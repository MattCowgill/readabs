<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download and Tidy Time Series Data from the Australian Bureau of Statistics • readabs</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download and Tidy Time Series Data from the Australian Bureau of Statistics">
<meta property="og:description" content="Downloads, imports, and tidies time series data from the Australian Bureau of Statistics &lt;https://www.abs.gov.au/&gt;.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">readabs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/readabs_vignette.html">Using readabs</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mattcowgill/readabs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="readabs-">readabs <img src="reference/figures/logo.png" align="right" height="139"><a class="anchor" aria-label="anchor" href="#readabs-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>{readabs} helps you easily download, import, and tidy data from the Australian Bureau of Statistics within R. This saves you time manually downloading and tediously tidying data and allows you to spend more time on your analysis.</p>
</div>
<div class="section level2">
<h2 id="installing-readabs">Installing {readabs}<a class="anchor" aria-label="anchor" href="#installing-readabs"></a>
</h2>
<p>Install the latest CRAN version of {readabs} with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"readabs"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of {readabs} from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># if you don't have devtools installed, first run:</span></span>
<span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"mattcowgill/readabs"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-readabs">Using {readabs}<a class="anchor" aria-label="anchor" href="#using-readabs"></a>
</h2>
<p>The ABS releases data in many different formats, through many different dissemination channels.</p>
<p>The {readabs} contains functions for working with three different types of ABS data:</p>
<ul>
<li>
<code><a href="reference/read_abs.html">read_abs()</a></code> and related functions downloads, imports, and tidies ABS time series data.</li>
<li>
<code><a href="reference/download_abs_data_cube.html">download_abs_data_cube()</a></code> and related functions find and download ABS data cubes, which are spreadsheets on the ABS website that are not in the standard time series format.</li>
<li>
<code><a href="reference/abs_api.html">read_api()</a></code> and related functions find, filter, and import data from the <a href="https://dataexplorer.abs.gov.au" class="external-link">ABS.Stat</a> API.</li>
</ul>
<div class="section level3">
<h3 id="abs-time-series-data">ABS time series data<a class="anchor" aria-label="anchor" href="#abs-time-series-data"></a>
</h3>
<p>A key function in {readabs} is <code><a href="reference/read_abs.html">read_abs()</a></code>, which downloads, imports, and tidies time series data from the ABS website. <strong>Note that <code><a href="reference/read_abs.html">read_abs()</a></code> only works with spreadsheets in the standard ABS time series format.</strong></p>
<p>First we’ll load {readabs} and the {tidyverse}:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mattcowgill/readabs" class="external-link">readabs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<p>Now we’ll create one data frame that contains all the time series data from the Wage Price Index, catalogue number 6345.0:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_wpi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_abs.html">read_abs</a></span><span class="op">(</span><span class="st">"6345.0"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Finding URLs for tables corresponding to ABS catalogue 6345.0</span></span>
<span><span class="co">#&gt; Attempting to download files from catalogue 6345.0, Wage Price Index, Australia</span></span>
<span><span class="co">#&gt; Extracting data from downloaded spreadsheets</span></span>
<span><span class="co">#&gt; Tidying data from imported ABS spreadsheets</span></span></code></pre></div>
<p>This is what it looks like:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">all_wpi</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [68,137 × 12] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ table_no        : chr [1:68137] "634501" "634501" "634501" "634501" ...</span></span>
<span><span class="co">#&gt;  $ sheet_no        : chr [1:68137] "Data1" "Data1" "Data1" "Data1" ...</span></span>
<span><span class="co">#&gt;  $ table_title     : chr [1:68137] "Table 1. Total Hourly Rates of Pay Excluding Bonuses: Sector, Original, Seasonally Adjusted and Trend" "Table 1. Total Hourly Rates of Pay Excluding Bonuses: Sector, Original, Seasonally Adjusted and Trend" "Table 1. Total Hourly Rates of Pay Excluding Bonuses: Sector, Original, Seasonally Adjusted and Trend" "Table 1. Total Hourly Rates of Pay Excluding Bonuses: Sector, Original, Seasonally Adjusted and Trend" ...</span></span>
<span><span class="co">#&gt;  $ date            : Date[1:68137], format: "1997-09-01" "1997-09-01" ...</span></span>
<span><span class="co">#&gt;  $ series          : chr [1:68137] "Quarterly Index ;  Total hourly rates of pay excluding bonuses ;  Australia ;  Private ;  All industries ;" "Quarterly Index ;  Total hourly rates of pay excluding bonuses ;  Australia ;  Public ;  All industries ;" "Quarterly Index ;  Total hourly rates of pay excluding bonuses ;  Australia ;  Private and Public ;  All industries ;" "Quarterly Index ;  Total hourly rates of pay excluding bonuses ;  Australia ;  Private ;  All industries ;" ...</span></span>
<span><span class="co">#&gt;  $ value           : num [1:68137] 67.4 64.7 66.7 67.3 64.8 66.6 67.3 64.8 66.7 NA ...</span></span>
<span><span class="co">#&gt;  $ series_type     : chr [1:68137] "Original" "Original" "Original" "Seasonally Adjusted" ...</span></span>
<span><span class="co">#&gt;  $ data_type       : chr [1:68137] "INDEX" "INDEX" "INDEX" "INDEX" ...</span></span>
<span><span class="co">#&gt;  $ collection_month: chr [1:68137] "3" "3" "3" "3" ...</span></span>
<span><span class="co">#&gt;  $ frequency       : chr [1:68137] "Quarter" "Quarter" "Quarter" "Quarter" ...</span></span>
<span><span class="co">#&gt;  $ series_id       : chr [1:68137] "A2603039T" "A2603989W" "A2603609J" "A2713846W" ...</span></span>
<span><span class="co">#&gt;  $ unit            : chr [1:68137] "Index Numbers" "Index Numbers" "Index Numbers" "Index Numbers" ...</span></span></code></pre></div>
<p>It only takes you a few lines of code to make a graph from your data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_wpi</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">series</span> <span class="op">==</span> <span class="st">"Percentage Change From Corresponding Quarter of Previous Year ;  Australia ;  Total hourly rates of pay excluding bonuses ;  Private and Public ;  All industries ;"</span>,</span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">value</span>, col <span class="op">=</span> <span class="va">series_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>y <span class="op">=</span> <span class="st">"Annual wage growth (per cent)"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-all-in-one-example-1.png" width="672"></p>
<p>In the example above we downloaded all the time series from a catalogue number. This will often be overkill. If you know the data you need is in a particular table, you can just get that table like this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wpi_t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_abs.html">read_abs</a></span><span class="op">(</span><span class="st">"6345.0"</span>, tables <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in read_abs("6345.0", tables = 1): `tables` was providedyet</span></span>
<span><span class="co">#&gt; `check_local = TRUE` and fst files are available so `tables` will be ignored.</span></span></code></pre></div>
<p>If you want multiple tables, but not the whole catalogue, that’s easy too:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wpi_t1_t5</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/read_abs.html">read_abs</a></span><span class="op">(</span><span class="st">"6345.0"</span>, tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"5a"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in read_abs("6345.0", tables = c("1", "5a")): `tables` was providedyet</span></span>
<span><span class="co">#&gt; `check_local = TRUE` and fst files are available so `tables` will be ignored.</span></span></code></pre></div>
<p>For more examples, please see the vignette on working with time series data (run <code>browseVignettes("readabs")</code>).</p>
<p>Some other functions that may come in handy when working with ABS time series data:</p>
<ul>
<li>
<code><a href="reference/read_abs_local.html">read_abs_local()</a></code> imports and tidies time series data from ABS spreadsheets stored on a local drive. Thanks to Hugh Parsonage for contributing to this functionality.</li>
<li>
<code><a href="reference/separate_series.html">separate_series()</a></code> splits the <code>series</code> column of a tidied ABS time series spreadsheet into multiple columns, reducing the manual wrangling that’s needed to work with the data. Thanks to David Diviny for writing this function.</li>
</ul>
<div class="section level4">
<h4 id="convenience-functions-for-loading-time-series-data">Convenience functions for loading time series data<a class="anchor" aria-label="anchor" href="#convenience-functions-for-loading-time-series-data"></a>
</h4>
<p>There are several functions that load specific ABS time series data:</p>
<ul>
<li>
<code><a href="reference/read_cpi.html">read_cpi()</a></code> imports the Consumer Price Index numbers as a two-column tibble: <code>date</code> and <code>cpi</code>. This is useful for joining to other series to adjust data for changes in consumer prices.</li>
<li>
<code><a href="reference/read_awe.html">read_awe()</a></code> returns a long time series of Average Weekly Earnings data.</li>
<li>
<code><a href="reference/read_job_mobility.html">read_job_mobility()</a></code> downloads, imports and tidies tables from the ABS Job Mobility dataset.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="abs-data-cubes">ABS data cubes<a class="anchor" aria-label="anchor" href="#abs-data-cubes"></a>
</h3>
<p>The ABS (generally) releases time series data in a standard format, which allows <code><a href="reference/read_abs.html">read_abs()</a></code> to download, import and tidy it (see above). But not all ABS data is time series data - the ABS also releases data as ‘data cubes’. These are all formatted in their own, unique way.</p>
<p>Unfortunately, because data cubes are all formatted in their own way, there is no one function that can import tidy data cubes for you in the same way that <code><a href="reference/read_abs.html">read_abs()</a></code> works with all time series. But <a href="https://github.com/mattcowgill/readabs" class="external-link">readabs</a> still has functions that can help. Thanks to David Diviny for writing these functions.</p>
<p>The <code><a href="reference/download_abs_data_cube.html">download_abs_data_cube()</a></code> function can download an ABS data cube for you. It works with any data cube on the ABS website. To use this function, we need two things: a <code>catalogue_string</code> (the short name of the release) and <code>cube</code>, a (unique fragment of) the filename within the catalogue you wish to download.</p>
<p>For example, let’s say you wanted to download table 4 from <em>Weekly Payroll Jobs and Wages in Australia</em>. We can find the catalogue name like this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/search_catalogues.html">search_catalogues</a></span><span class="op">(</span><span class="st">"payroll"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 4</span></span>
<span><span class="co">#&gt;   heading sub_heading                                         catalogue    url  </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;                                               &lt;chr&gt;        &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 Jobs    Weekly Payroll Jobs                                 weekly-payr… http…</span></span>
<span><span class="co">#&gt; 2 Jobs    Weekly Payroll Jobs and Wages in Australia, Interim weekly-payr… http…</span></span></code></pre></div>
<p>Now we know that the string <code>"weekly-payroll-jobs"</code> is the <code>catalogue_string</code> for this release. We can now see what files are available to download from this catalogue:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/show_available_files.html">show_available_files</a></span><span class="op">(</span><span class="st">"weekly-payroll-jobs"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 7 × 3</span></span>
<span><span class="co">#&gt;   label                                                              file  url  </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                                              &lt;chr&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 Table 20: Payroll jobs - characteristics distributionsContains se… 6160… http…</span></span>
<span><span class="co">#&gt; 2 Table 4: Payroll jobs indexes                                      6160… http…</span></span>
<span><span class="co">#&gt; 3 Table 6: Industry subdivision - Payroll jobs indexes               6160… http…</span></span>
<span><span class="co">#&gt; 4 Table 7: Employer characteristics - Payroll jobs index             6160… http…</span></span>
<span><span class="co">#&gt; 5 Table 8: Jobholder characteristics - Payroll jobs index            6160… http…</span></span>
<span><span class="co">#&gt; 6 Table 9: Sector - Payroll jobs index                               6160… http…</span></span>
<span><span class="co">#&gt; 7 All data cubes                                                     6160… http…</span></span></code></pre></div>
<p>We want Table 4, which has the filename <code>6160055001_DO004.xlsx</code>.</p>
<p>We can download the file as follows:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payrolls_t4_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_abs_data_cube.html">download_abs_data_cube</a></span><span class="op">(</span><span class="st">"weekly-payroll-jobs"</span>, <span class="st">"004"</span><span class="op">)</span></span>
<span><span class="co">#&gt; File downloaded in /tmp/RtmpV2bAuK/6160055001_DO004.xlsx</span></span>
<span></span>
<span><span class="va">payrolls_t4_path</span></span>
<span><span class="co">#&gt; [1] "/tmp/RtmpV2bAuK/6160055001_DO004.xlsx"</span></span></code></pre></div>
<p>The <code><a href="reference/download_abs_data_cube.html">download_abs_data_cube()</a></code> function downloads the file and returns the full file path to the saved file. You can then pipe that in to another function:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">payrolls_t4_path</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_excel</a></span><span class="op">(</span></span>
<span>    sheet <span class="op">=</span> <span class="st">"Payroll jobs index"</span>,</span>
<span>    skip <span class="op">=</span> <span class="fl">5</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="section level4">
<h4 id="convenience-functions-for-data-cubes">Convenience functions for data cubes<a class="anchor" aria-label="anchor" href="#convenience-functions-for-data-cubes"></a>
</h4>
<p>As it happens, if you want the ABS Weekly Payrolls data, you don’t need to use <code><a href="reference/download_abs_data_cube.html">download_abs_data_cube()</a></code> directly. Instead, there is a convenience function available that downloads, imports, and tidies the data for you:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_payrolls.html">read_payrolls</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>There is also a convenience function available for data cube GM1 from the monthly Labour Force data, which contains labour force gross flows:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/read_lfs_grossflows.html">read_lfs_grossflows</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="finding-and-loading-data-from-the-absstat-api">Finding and loading data from the ABS.Stat API<a class="anchor" aria-label="anchor" href="#finding-and-loading-data-from-the-absstat-api"></a>
</h3>
<p>The ABS has created a new site to access its data, called the ABS Data Explorer, also known as ABS.Stat. As at early 2023, this site is in Beta mode. The site provides an API.</p>
<p>The {readabs} package includes functions to query the ABS.Stat API. Thank you to Kinto Behr for writing these functions. The functions are:</p>
<ul>
<li>
<code><a href="reference/abs_api.html">read_api_dataflows()</a></code> lists available dataflows (roughly equivalent to ‘tables’)</li>
<li>
<code><a href="reference/abs_api.html">read_api_datastructure()</a></code> lists variables within a particular dataflow and the levels of those variables, which you can use to filter the data server-side in an API query</li>
<li>
<code><a href="reference/abs_api.html">read_api()</a></code> downloads data from the ABS.Stat API.</li>
</ul>
<p>Let’s list available dataflows:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flows</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/abs_api.html">read_api_dataflows</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Say from this I am interested in the first dataflow, the projected population of Aboriginal and Torres Strait Islander Australians. The id for this dataflow is <code>"ABORIGINAL_POP_PROJ"</code>, which I can use to download the data.</p>
<p>In this case, I could download the entire dataflow with:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/abs_api.html">read_api</a></span><span class="op">(</span><span class="st">"ABORIGINAL_POP_PROJ"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 72,144 × 11</span></span>
<span><span class="co">#&gt;    measure         sex_abs age       asgs_2011 proj_series frequency time_period</span></span>
<span><span class="co">#&gt;    &lt;chr+lbl&gt;       &lt;chr+l&gt; &lt;chr+lbl&gt; &lt;chr+lbl&gt; &lt;chr+lbl&gt;   &lt;chr+lbl&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2016</span></span>
<span><span class="co">#&gt;  2 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2017</span></span>
<span><span class="co">#&gt;  3 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2018</span></span>
<span><span class="co">#&gt;  4 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2019</span></span>
<span><span class="co">#&gt;  5 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2020</span></span>
<span><span class="co">#&gt;  6 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2021</span></span>
<span><span class="co">#&gt;  7 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2022</span></span>
<span><span class="co">#&gt;  8 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2023</span></span>
<span><span class="co">#&gt;  9 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2024</span></span>
<span><span class="co">#&gt; 10 POP_PROJ [Proj… 3 [Per… A04 [0 -… 1 [New S… 3 [Series … A [Annua…        2025</span></span>
<span><span class="co">#&gt; # ℹ 72,134 more rows</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: obs_value &lt;dbl&gt;, unit_measure &lt;chr+lbl&gt;,</span></span>
<span><span class="co">#&gt; #   obs_status &lt;chr+lbl&gt;, obs_comment &lt;dbl&gt;</span></span></code></pre></div>
<p>Let’s say I’m only interested in the population projections for males, not females or all persons. In that case, I can filter the data on the ABS server before downloading my query. I can use <code><a href="reference/abs_api.html">read_api_datastructure()</a></code> to help with this.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/abs_api.html">read_api_datastructure</a></span><span class="op">(</span><span class="st">"ABORIGINAL_POP_PROJ"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 332 × 6</span></span>
<span><span class="co">#&gt;    role      var     position desc    code     label               </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;               </span></span>
<span><span class="co">#&gt;  1 dimension measure 1        Measure POP_PROJ Projected population</span></span>
<span><span class="co">#&gt;  2 dimension sex_abs 2        Sex     1        Males               </span></span>
<span><span class="co">#&gt;  3 dimension sex_abs 2        Sex     2        Females             </span></span>
<span><span class="co">#&gt;  4 dimension sex_abs 2        Sex     3        Persons             </span></span>
<span><span class="co">#&gt;  5 dimension age     3        Age     0        0                   </span></span>
<span><span class="co">#&gt;  6 dimension age     3        Age     0014     0 - 14              </span></span>
<span><span class="co">#&gt;  7 dimension age     3        Age     0015     0 - 15              </span></span>
<span><span class="co">#&gt;  8 dimension age     3        Age     0104     1 - 4               </span></span>
<span><span class="co">#&gt;  9 dimension age     3        Age     0514     5 - 14              </span></span>
<span><span class="co">#&gt; 10 dimension age     3        Age     1        1                   </span></span>
<span><span class="co">#&gt; # ℹ 322 more rows</span></span></code></pre></div>
<p>From this, I can see that there’s a variable (<code>var</code>) called <code>sex_abs</code>, which can take the value <code>1</code>, <code>2</code>, or <code>3</code>, corresponding to <code>Males</code>, <code>Females</code> and <code>Persons</code>. If I only want to data for Males, I can obtain this by supplying a datakey:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/abs_api.html">read_api</a></span><span class="op">(</span><span class="st">"ABORIGINAL_POP_PROJ"</span>, datakey <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>sex_abs <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 24,048 × 11</span></span>
<span><span class="co">#&gt;    measure         sex_abs age       asgs_2011 proj_series frequency time_period</span></span>
<span><span class="co">#&gt;    &lt;chr+lbl&gt;       &lt;chr+l&gt; &lt;chr+lbl&gt; &lt;chr+lbl&gt; &lt;chr+lbl&gt;   &lt;chr+lbl&gt;       &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2016</span></span>
<span><span class="co">#&gt;  2 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2017</span></span>
<span><span class="co">#&gt;  3 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2018</span></span>
<span><span class="co">#&gt;  4 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2019</span></span>
<span><span class="co">#&gt;  5 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2020</span></span>
<span><span class="co">#&gt;  6 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2021</span></span>
<span><span class="co">#&gt;  7 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2022</span></span>
<span><span class="co">#&gt;  8 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2023</span></span>
<span><span class="co">#&gt;  9 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2024</span></span>
<span><span class="co">#&gt; 10 POP_PROJ [Proj… 1 [Mal… A04 [0 -… 1 [New S… 7 [Series … A [Annua…        2025</span></span>
<span><span class="co">#&gt; # ℹ 24,038 more rows</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: obs_value &lt;dbl&gt;, unit_measure &lt;chr+lbl&gt;,</span></span>
<span><span class="co">#&gt; #   obs_status &lt;chr+lbl&gt;, obs_comment &lt;dbl&gt;</span></span></code></pre></div>
<p>Note that in some cases, querying the API without filtering the data will return an error, as the table will be too big. In this case, you will need to supply a datakey that reduces the size of the data.</p>
</div>
</div>
<div class="section level2">
<h2 id="resolving-network-issues-by-manually-setting-the-download-method">Resolving network issues by manually setting the download method<a class="anchor" aria-label="anchor" href="#resolving-network-issues-by-manually-setting-the-download-method"></a>
</h2>
<p>Certain corporate networks restrict your ability to download files in an R session. On some of these networks, the <code>"wininet"</code> method must be used when downloading files. Users can now specify the method that will be used to download files by setting the <code>"R_READABS_DL_METHOD"</code> environment variable.</p>
<p>For example, the following code sets the environment variable for your current session:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"R_READABS_DL_METHOD"</span> <span class="op">=</span> <span class="st">"wininet"</span><span class="op">)</span></span></code></pre></div>
<p>You can add <code>R_READABS_DL_METHOD = "wininet"</code> to your .Renviron to have this persist across sessions.</p>
<p>If you have other issues using <a href="https://github.com/mattcowgill/readabs" class="external-link">readabs</a> in your corporate environment, I would appreciate you opening an issue on GitHub.</p>
</div>
<div class="section level2">
<h2 id="bug-reports-and-feedback">Bug reports and feedback<a class="anchor" aria-label="anchor" href="#bug-reports-and-feedback"></a>
</h2>
<p>GitHub issues containing error reports or feature requests are welcome. Please try to make a <a href="https://reprex.tidyverse.org" class="external-link">reprex</a> (a minimal, reproducible example) if possible.</p>
<p>Alternatively you can email the package maintainer at mattcowgill at gmail dot com.</p>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>The <a href="https://github.com/mattcowgill/readabs" class="external-link">readabs</a> package is not associated with the Australian Bureau of Statistics. All data is provided subject to any restrictions and licensing arrangements noted on the ABS website.</p>
</div>
<div class="section level2">
<h2 id="awesome-official-statistics-software">Awesome Official Statistics Software<a class="anchor" aria-label="anchor" href="#awesome-official-statistics-software"></a>
</h2>
<p><a href="https://github.com/SNStatComp/awesome-official-statistics-software" class="external-link"><img src="https://awesome.re/mentioned-badge.svg" alt="Mentioned in Awesome Official Statistics"></a></p>
<p>We’re pleased to be included in a <a href="https://github.com/SNStatComp/awesome-official-statistics-software" class="external-link">list of software</a> that can be used to work with official statistics.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=readabs" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/mattcowgill/readabs/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mattcowgill/readabs/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing readabs</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Matt Cowgill <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-0422-3300" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Zoe Meers <br><small class="roles"> Author </small>  </li>
<li>Jaron Lee <br><small class="roles"> Author </small>  </li>
<li>David Diviny <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mattcowgill/readabs/actions" class="external-link"><img src="https://github.com/mattcowgill/readabs/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://app.codecov.io/gh/MattCowgill/readabs" class="external-link"><img src="https://img.shields.io/codecov/c/github/mattcowgill/readabs.svg" alt="codecov status"></a></li>
<li><a href="https://cran.r-project.org/package=readabs" class="external-link"><img src="https://www.r-pkg.org/badges/version/readabs" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Matt Cowgill, Zoe Meers, Jaron Lee, David Diviny.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
